[{"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\index.js":"1","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\App.js":"2","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\layout\\Layout.jsx":"3","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\router\\Routers.js":"4","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\header\\Header.jsx":"5","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\footer\\Footer.jsx":"6","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\Home.jsx":"7","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\SearchResultList.jsx":"8","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\Tours.jsx":"9","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\TourDetails.jsx":"10","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\Register.jsx":"11","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\Login.jsx":"12","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\shared\\Subtitle.jsx":"13","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\shared\\SearchBar.jsx":"14","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\services\\ServiceList.jsx":"15","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\services\\ServiceCard.jsx":"16","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\featured-tours\\FeaturedTourList.jsx":"17","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\shared\\TourCard.jsx":"18","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\assets\\data\\tours.js":"19","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\utils\\avgRating.js":"20","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\image-gallery\\MasonryImageGallery.jsx":"21","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\image-gallery\\galleryImages.js":"22","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\testimonials\\Testimonials.jsx":"23","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\shared\\Newsletter.jsx":"24","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\shared\\CommonSection.jsx":"25","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\Booking\\Booking.jsx":"26","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\ThankYou.jsx":"27","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\hooks\\useFetch.js":"28","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\utils\\config.js":"29","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\context\\AuthContext.js":"30"},{"size":616,"mtime":1690285205615,"results":"31","hashOfConfig":"32"},{"size":128,"mtime":1689864617650,"results":"33","hashOfConfig":"32"},{"size":314,"mtime":1689864566918,"results":"34","hashOfConfig":"32"},{"size":1012,"mtime":1689973511942,"results":"35","hashOfConfig":"32"},{"size":2789,"mtime":1690746841383,"results":"36","hashOfConfig":"32"},{"size":3976,"mtime":1689939138061,"results":"37","hashOfConfig":"32"},{"size":4402,"mtime":1690319358942,"results":"38","hashOfConfig":"32"},{"size":915,"mtime":1690228208205,"results":"39","hashOfConfig":"32"},{"size":1818,"mtime":1690324720873,"results":"40","hashOfConfig":"32"},{"size":5528,"mtime":1690316715542,"results":"41","hashOfConfig":"32"},{"size":2547,"mtime":1690298295818,"results":"42","hashOfConfig":"32"},{"size":2435,"mtime":1690295073866,"results":"43","hashOfConfig":"32"},{"size":164,"mtime":1689870206885,"results":"44","hashOfConfig":"32"},{"size":2446,"mtime":1690228001767,"results":"45","hashOfConfig":"32"},{"size":957,"mtime":1690319535631,"results":"46","hashOfConfig":"32"},{"size":358,"mtime":1689886748041,"results":"47","hashOfConfig":"32"},{"size":671,"mtime":1690321948989,"results":"48","hashOfConfig":"32"},{"size":1579,"mtime":1690294304375,"results":"49","hashOfConfig":"32"},{"size":3170,"mtime":1690059701121,"results":"50","hashOfConfig":"32"},{"size":343,"mtime":1689924644005,"results":"51","hashOfConfig":"32"},{"size":581,"mtime":1689926819556,"results":"52","hashOfConfig":"32"},{"size":651,"mtime":1689927170937,"results":"53","hashOfConfig":"32"},{"size":3050,"mtime":1689930108844,"results":"54","hashOfConfig":"32"},{"size":1115,"mtime":1689935177583,"results":"55","hashOfConfig":"32"},{"size":379,"mtime":1690288095915,"results":"56","hashOfConfig":"32"},{"size":3802,"mtime":1690317163884,"results":"57","hashOfConfig":"32"},{"size":1188,"mtime":1689974982673,"results":"58","hashOfConfig":"32"},{"size":857,"mtime":1690190953826,"results":"59","hashOfConfig":"32"},{"size":105,"mtime":1690889826745,"results":"60","hashOfConfig":"32"},{"size":1759,"mtime":1690285133472,"results":"61","hashOfConfig":"32"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},"ih58u3",{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93"},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"106","messages":"107","suppressedMessages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","suppressedMessages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"112","messages":"113","suppressedMessages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","suppressedMessages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"118","messages":"119","suppressedMessages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","suppressedMessages":"123","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"124","messages":"125","suppressedMessages":"126","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"127","messages":"128","suppressedMessages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"130","messages":"131","suppressedMessages":"132","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"133","messages":"134","suppressedMessages":"135","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"136","messages":"137","suppressedMessages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"139","messages":"140","suppressedMessages":"141","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"142","messages":"143","suppressedMessages":"144","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"145","messages":"146","suppressedMessages":"147","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"148","messages":"149","suppressedMessages":"150","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"151","messages":"152","suppressedMessages":"153","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\index.js",[],[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\App.js",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\layout\\Layout.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\router\\Routers.js",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\header\\Header.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\footer\\Footer.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\Home.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\SearchResultList.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\Tours.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\TourDetails.jsx",["154"],[],"import React,{useRef,useState,useEffect, useContext} from 'react'\r\nimport '../styles/tour-details.css';\r\nimport {Container,Row,Col,Form,ListGroup} from 'reactstrap'\r\nimport {useParams} from 'react-router-dom'\r\nimport calculateAvgRating from '../utils/avgRating';\r\nimport avatar from '../assets/images/avatar.jpg'\r\nimport Booking from '../components/Booking/Booking';\r\nimport useFetch from './../hooks/useFetch'\r\nimport {BASE_URL} from './../utils/config'\r\nimport {AuthContext} from './../context/AuthContext'\r\n\r\nconst TourDetails = () => {\r\n  const {id} = useParams()\r\n  const reviewMsgRef = useRef(\"\")\r\n  const [tourRating,setTourRating]=useState(null) \r\n  const {user} =useContext(AuthContext)\r\n\r\n  //fetch from the  db\r\n  const {data:tour,loading,error} = useFetch(`${BASE_URL}/tours/${id}`)\r\n  //destructure props for tour object\r\n  const {photo,title,address,price,reviews,city,distance,maxGroupSize,desc} = tour\r\n\r\n    //format date\r\n    const options = {day:'numeric',month:'long',year:'numeric',};\r\n\r\n    const submitHandler = async e=>{\r\n      e.preventDefault()\r\n      const reviewText = reviewMsgRef.current.value\r\n    \r\n   if(!user || user=== undefined || user===null){\r\n    alert('Please sign in')\r\n   }\r\n   const reviewObj={\r\n    username:user?.username,\r\n    reviewText,\r\n    rating:totalRating\r\n   } \r\n   try {\r\n    const res = await fetch(`${BASE_URL}/reviews/${id}`,{\r\n      method:'post',\r\n      headers:{\r\n        'content-type': 'application/json'\r\n      },\r\n      credentials:'include',\r\n      body:JSON.stringify(reviewObj)\r\n    })\r\n\r\n    const result = await res.json()\r\n    if(!res.ok) {\r\n      return alert(result.message)\r\n    }\r\n    alert('Review submitted successfully')\r\n   } catch (error) {\r\n    alert(error.message)\r\n   }\r\n  }\r\n     \r\n    useEffect(()=>{\r\n      window.scrollTo(0,0)\r\n    },[tour])\r\n  const {totalRating,avgRating} = calculateAvgRating(reviews)\r\n  return <>\r\n   <section>\r\n    <Container>\r\n      {\r\n        loading && <h4 className='text-center pt-5'>Loading ...</h4>\r\n      }\r\n      {\r\n        error && <h4 className='text-center pt-5'>{error}</h4>\r\n      }\r\n      {\r\n        ! loading && !error && <Row>\r\n        <Col lg='8'>\r\n        <div className=\"tour__content\">\r\n          <img src={photo} alt=\"\" />\r\n          <div className=\"tour__info\">\r\n            <h2>{title}</h2>\r\n            <div className=\"d-flex align-items-center gap-5\">\r\n            <span className=\"tour__rating d-flex align-items-center gap-1\">\r\n          <i class=\"ri-star-fill\" style={{color:'var(--secondary-color)'}}></i>{avgRating ===0? null:avgRating}{totalRating===0?('Not rated'):(\r\n            <span>({reviews?.length})</span>\r\n          \r\n          )}\r\n         </span>\r\n         <span>\r\n          <i class='ri-map-pin-fill'></i>{address}\r\n         </span>\r\n            </div>\r\n            <div className=\"tour__extra-details\">\r\n              <span>\r\n                <i class='ri-map-pin-2-line'>{city}</i>\r\n                </span>\r\n                <span>\r\n                <i class='ri-money-dollar-circle-line'>${price}/per person</i>\r\n                </span>\r\n                <span>\r\n                <i class='ri-money-dollar-circle-line'>{distance}k/m</i>\r\n                </span>\r\n                <span>\r\n                <i class='ri-group-line'>{maxGroupSize}</i>people\r\n              </span>\r\n            </div>\r\n            <h5>Description</h5>\r\n              <p>{desc}</p>\r\n          </div>\r\n          <div className=\"tour__reviews mt-4\">\r\n            <h4>Reviews({reviews?.length} reviews)</h4>\r\n            <Form onSubmit ={submitHandler}>\r\n              <div className=\"d-flex align-items-center gap-3 mb-4 rating__group\">\r\n              <span onClick={()=>setTourRating(1)}>1<i class='ri-star-s-fill'></i></span>\r\n              <span onClick={()=>setTourRating(2)}>2<i class='ri-star-s-fill'></i></span>\r\n              <span onClick={()=>setTourRating(3)}>3<i class='ri-star-s-fill'></i></span>\r\n              <span onClick={()=>setTourRating(4)}>4<i class='ri-star-s-fill'></i></span>\r\n              <span onClick={()=>setTourRating(5)}>5<i class='ri-star-s-fill'></i></span>\r\n              </div>\r\n              <div className=\"review__input\">\r\n                <input type=\"text\" placeholder='Rate Us' ref={reviewMsgRef}/>\r\n                <button className='btn primary__btn text-white' type='submit'>Submit</button>\r\n              </div>\r\n            </Form>\r\n            <ListGroup className=\"user__reviews\">\r\n             {\r\n              reviews?.map(review=>(\r\n                <div className=\"review__item\">\r\n                  <img src={avatar} alt=\"\" />\r\n                  <div className=\"w-100\">\r\n                    <div className=\"d-flex align-items-center justify-content-between\">\r\n                      <div>\r\n                        <h5>{review.username}</h5>\r\n                        <p>{new Date(review.createdAt).toLocaleDateString(\"en-US\",options)}</p>\r\n                      </div>\r\n                      <span className='d-flex align-items-center'>\r\n                        5<i class=\"ri-star-s-fill\"></i>\r\n                      </span>\r\n                    </div>\r\n                    <h6>{review.reviewText}</h6>\r\n                  </div>\r\n                </div>\r\n              ))\r\n             }\r\n            </ListGroup>\r\n          </div>\r\n        </div>\r\n        </Col>\r\n        <Col lg='4'>\r\n        <Booking tour={tour} avgRating={avgRating}/>\r\n        </Col>\r\n      </Row>\r\n      }\r\n    </Container>\r\n   </section>\r\n  </>\r\n}\r\n\r\nexport default TourDetails\r\n","C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\Register.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\Login.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\shared\\Subtitle.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\shared\\SearchBar.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\services\\ServiceList.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\services\\ServiceCard.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\featured-tours\\FeaturedTourList.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\shared\\TourCard.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\assets\\data\\tours.js",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\utils\\avgRating.js",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\image-gallery\\MasonryImageGallery.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\image-gallery\\galleryImages.js",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\testimonials\\Testimonials.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\shared\\Newsletter.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\shared\\CommonSection.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\components\\Booking\\Booking.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\pages\\ThankYou.jsx",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\hooks\\useFetch.js",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\utils\\config.js",[],[],"C:\\Users\\user\\Desktop\\tour-management\\mern-t-m\\tour-management\\frontend\\src\\context\\AuthContext.js",[],[],{"ruleId":"155","severity":1,"message":"156","line":15,"column":10,"nodeType":"157","messageId":"158","endLine":15,"endColumn":20},"no-unused-vars","'tourRating' is assigned a value but never used.","Identifier","unusedVar"]